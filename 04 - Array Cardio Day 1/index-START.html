<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Array Cardio ğŸ’ª</title>
</head>
<body>
  <p><em>Psst: have a look at the JavaScript Console</em> ğŸ’</p>
  <script>
    // Get your shorts on - this is an array workout!
    // ## Array Cardio Day 1

    // Some data we can work with

    const inventors = [
      { first: 'Albert', last: 'Einstein', year: 1879, passed: 1955 },
      { first: 'Isaac', last: 'Newton', year: 1643, passed: 1727 },
      { first: 'Galileo', last: 'Galilei', year: 1564, passed: 1642 },
      { first: 'Marie', last: 'Curie', year: 1867, passed: 1934 },
      { first: 'Johannes', last: 'Kepler', year: 1571, passed: 1630 },
      { first: 'Nicolaus', last: 'Copernicus', year: 1473, passed: 1543 },
      { first: 'Max', last: 'Planck', year: 1858, passed: 1947 },
      { first: 'Katherine', last: 'Blodgett', year: 1898, passed: 1979 },
      { first: 'Ada', last: 'Lovelace', year: 1815, passed: 1852 },
      { first: 'Sarah E.', last: 'Goode', year: 1855, passed: 1905 },
      { first: 'Lise', last: 'Meitner', year: 1878, passed: 1968 },
      { first: 'Hanna', last: 'HammarstrÃ¶m', year: 1829, passed: 1909 }
    ];

    const people = ['Beck, Glenn', 'Becker, Carl', 'Beckett, Samuel', 'Beddoes, Mick', 'Beecher, Henry', 'Beethoven, Ludwig', 'Begin, Menachem', 'Belloc, Hilaire', 'Bellow, Saul', 'Benchley, Robert', 'Benenson, Peter', 'Ben-Gurion, David', 'Benjamin, Walter', 'Benn, Tony', 'Bennington, Chester', 'Benson, Leana', 'Bent, Silas', 'Bentsen, Lloyd', 'Berger, Ric', 'Bergman, Ingmar', 'Berio, Luciano', 'Berle, Milton', 'Berlin, Irving', 'Berne, Eric', 'Bernhard, Sandra', 'Berra, Yogi', 'Berry, Halle', 'Berry, Wendell', 'Bethea, Erin', 'Bevan, Aneurin', 'Bevel, Ken', 'Biden, Joseph', 'Bierce, Ambrose', 'Biko, Steve', 'Billings, Josh', 'Biondo, Frank', 'Birrell, Augustine', 'Black, Elk', 'Blair, Robert', 'Blair, Tony', 'Blake, William'];

    // Array.prototype.filter()
    // 1. Filter the list of inventors for those who were born in the 1500's
    /* pass filter a function, and that function will loop over every single
      item in our array. and it will give us our inventor and for each
      inventor we can decide whether we want to keep it or not. 
    */

    // const fifteen = inventors.filter(inventor => {
    //   if (inventor.year >= 1500 && inventor.year < 1600) {
    //     // note im used to return inventor; but wes used true,
    //     // both seem to return the same information
    //     return true; // keep it!
    //   }
    // });
    // console.table('fifteen: ', fifteen);
    // shorter version
    const fifteen = inventors.filter(inventor => inventor.year >= 1500 && inventor.year < 1600);
    console.table('fifteen: ', fifteen);


    // Array.prototype.map()
    // 2. Give us an array of the inventors' first and last names
    /* 
      map takes in an array, does something with that array and then
      returns a _new_ array of the same length. map will always return
      the same amount of items as you give it.
    */
    const fullNames = inventors.map(inventor => `${inventor.first} ${inventor.last}`);
    console.log('full names: ', fullNames);

    // Array.prototype.sort()
    // 3. Sort the inventors by birthdate, oldest to youngest
    /* 
      sort takes 2 items and allows you to compare them
      here we will return 1 and -1 and what that does is controls
      the order of items in the array
    */
    // const ordered = inventors.sort((firstPerson, secondPerson) => {
    //   if (firstPerson.year > secondPerson.year) {
    //     return 1;
    //   } else {
    //     return -1;
    //   }
    // });
    // shorter version
    const ordered = inventors.sort((a, b) => a.year > b.year ? 1 : -1);
    console.log('ordered: ', ordered);
    // Array.prototype.reduce()
    // 4. How many years did all the inventors live?
    /*
      like the other array methods, reduce loops over every
      item in our array.
      the first argument of reduce represents what you returned
      from the function last time (accumulator), we can call that total
      and it is also going to give you the inventor (currentValue)
     */
    // const totalYears = inventors.reduce((total, inventor) => {
    //   return total + (inventor.passed - inventor.year);
    // });
    /*
      at this point in our code we are almost there but if you
      look at this log we get back [object Object]7859843780508967907681
      this is because the first time reduce loops we dont have a total
      and its equal to undefined. so what we need to do is use the second
      argument (initialValue) to reduce with the value 0. this means reduce
      will use 0 as the initial value so we will not get undefined anymore
      and our years will properly add up.
    */
    const totalYears = inventors.reduce((total, inventor) => {
      return total + (inventor.passed - inventor.year);
    }, 0);

    console.log('totalYears: ', totalYears);

    // 5. Sort the inventors by years lived

    const oldest = inventors.sort((a, b) => {
      const lastGuy = a.passed - a.year;
      const nextGuy = b.passed - b.year;
      return lastGuy > nextGuy ? -1 : 1;
    });
    console.log('oldest: ', oldest);

    // 6. create a list of Boulevards in Paris that contain 'de' anywhere in the name
    // https://en.wikipedia.org/wiki/Category:Boulevards_in_Paris
    // use this js in the console of the wiki page
    
    // const links = category.querySelectorAll('a');
    // qSA returns a nodelist but only forEach is available
    // on nodeLists so lets turn it into an array so we can run
    // map on it, first, wrap it in an array then we can use es6 
    // spread operator to spread each item into the array
    // into the array.
    // we can also simply wrap it in Array.from(category.quer...)
    // i like using es6 so im using that one, even tho Array.from
    // reads better
    // const category = document.querySelector('.mw-category');
    // const links = [...category.querySelectorAll('a')];
    // const de = links
    //   .map(link => link.textContent)
    //   .filter(streetName => streetName.includes('de'));
    // console.log('de: ', de);
    // 7. sort Exercise
    // Sort the people alphabetically by last name
    const alpha = people.sort((lastOne, nextOne) => {
      const [aLast, aFirst] = lastOne.split(', ');
      const [bLast, bFirst] = nextOne.split(', ');
      console.log('aLast, aFirst: ', aLast, aFirst);
      console.log('bLast, bFirst: ', bLast, bFirst);
      return aLast > bLast ? 1 : -1;
      // console.log('lastOne: ', lastOne);
      // console.log('nextOne: ', nextOne);
    });
    console.log('alpha: ', alpha);
    // 8. Reduce Exercise
    // Sum up the instances of each of these
    const data = ['car', 'car', 'truck', 'truck', 'bike', 'walk', 'car', 'van', 'bike', 'walk', 'car', 'van', 'car', 'truck' ];
    // start our reduce with an empty object that we add to
    // as seen in second argument in the reduce method
    const transportation = data.reduce((obj, item) => {
      // console.log('transportation item: ', item);
      // what we want to do is to increment our object key
      // so we can tally how many instances of the key there are
      // we need to check first if there is an item of an obj or not
      // if it doesnt we can set it to 0 and increment and return it
      if (!obj[item]) {
        obj[item] = 0;
      }
      obj[item]++;
      return obj;
    }, {});
  console.log('transportation: ', transportation);
  </script>
</body>
</html>
